apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: microservices-demo-staging
nameSuffix: -staging
commonLabels:
  variant: staging

resources:
  - namespace.yaml
  - ../base

images:
  - name: cartservice
    newName: registry.digitalocean.com/microservices-demo/cartservice
    newTag: 1.0.0
  - name: checkoutservice
    newName: registry.digitalocean.com/microservices-demo/checkoutservice
    newTag: 1.0.0
  - name: currencyservice
    newName: registry.digitalocean.com/microservices-demo/currencyservice
    newTag: 1.0.0
  - name: emailservice
    newName: registry.digitalocean.com/microservices-demo/emailservice
    newTag: 1.0.0
  - name: frontend
    newName: registry.digitalocean.com/microservices-demo/frontend
    newTag: 1.0.0
  - name: paymentservice
    newName: registry.digitalocean.com/microservices-demo/paymentservice
    newTag: 1.0.0
  - name: productcatalogservice
    newName: registry.digitalocean.com/microservices-demo/productcatalogservice
    newTag: 1.0.0
  - name: recommendationservice
    newName: registry.digitalocean.com/microservices-demo/recommendationservice
    newTag: 1.0.0
  - name: shippingservice
    newName: registry.digitalocean.com/microservices-demo/shippingservice
    newTag: 1.0.0

secretGenerator:
  - name: digitalocean-dns
    env: configs/do/pat.env
